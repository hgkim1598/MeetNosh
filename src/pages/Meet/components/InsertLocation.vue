<script setup>
import { VBtn, VTextField } from 'vuetify/components';
import ref from 'vue';
import ModalMap from './ModalMap.vue';

const selectedLocation = ref(null); // ì‚¬ìš©ìê°€ ì„ íƒí•œ ìœ„ì¹˜
const isModalOpen = ref(false); // ëª¨ë‹¬ ê°œíì—¬ë¶€
const center = ref([37.5665, 126.9780]); // ì§€ë„ ì´ˆê¸° ì¤‘ì‹¬ ì¢Œí‘œ, ìš°ë¦¬ë‚˜ë¼ ì„œìš¸ë¡œ ì§€ì •

const handleConfirmLocation = (location) => {
    selectedLocation.value = location; // ModalMap.vueì—ì„œ ìœ„ì¹˜ë¥¼ ë°›ì•„ì™€ selectedLocationì— ì €ì¥
    isModalOpen.value = false;
}

</script>

<template>
    <VRow>
        <VCol cols="3">
            ğŸ—º ë©¤ë²„ ìœ„ì¹˜ ì¶”ê°€í•˜ê¸°
        </VCol>
        <VCol cols="3">
            <VBtn
                @click="isModalOpen = true">
                ìœ„ì¹˜ ì„ íƒí•˜ê¸°
            </VBtn>
        </VCol>
        <VCol cols="6">
            <span v-if="selectedLocation">
                {{ selectedLocation.lat }} {{ selectedLocation.lng }}
            </span>
        </VCol>
        <!-- ModalMap ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ -->
        <ModalMap
            :isOpen="isModalOpen"
            :center="center"
            @close="isModalOpen=false"
            @confirm="handleConfirmLocation"
        /> <!--isOpenê³¼ centerë¥¼ propsë¡œ ì „ë‹¬ / @closeë©´ ëª¨ë‹¬ ë‹«ê¸° @comfirmì´ë©´ ìœ„ì¹˜ ì„ íƒ-->
    </VRow>
</template>